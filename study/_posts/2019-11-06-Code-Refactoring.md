# Code Refactoring

## 0. Why

### - Legacy Code

- 기존에 개발되어 있던 코드
- Test Code로 검증되지 않은 Code

### - Legacy Code의 문제점

- <b>코드 수정이 어렵다.</b> Legacy Code는 단위 테스트가 되어있지 않아 기능을 수정하거나 추가하면 이 부분이 프로그램의 어떤 부분까지 영향을 줄지 예상하기가 어렵다.
- <b>코드를 이해하기 어렵다.</b> 제대로 리팩토링 되어있는 코드는 같은 레벨의 추상화된 메소드를 가지고 있다. 따라서 메소드만 봐도 여기에 어떤 input을 넣으면 어떤 output이 나오는지를 짐작할 수 있다. 하지만 Legacy Code는 추상화가 제대로 되어있지 않아 가독성이 떨어진다.

### -  테스트를 하는 이유는 '빠른 피드백, 진행도'

- '애자일' 방법론은 스크럼 미팅, 코드 리뷰 등을 통해 액션에 대한 빠른 피드백을 추구한다.
- 테스트 코드가 있으면 '80% 정도 완료했어요'라는 대답이 감이 아니라, 객관적인 자료에서 나올 수 있다. 예를 들어 기능을 10개의 테스트 코드로 나눴는데 8개의 테스트가 완료되었다면 진행률이 80%라고 볼 수 있다.

## 1. What

소프트웨어 개발은 크게 small step과 big step으로 2가지 종류가 있다.
small step은 프로그램을 여러단계로 나누어 개발과 테스트를 반복하는 것이고(애자일), big step은 한 번에 모든 요구사항을 끝내는 방식이다(waterfall 개발 방법론)

big step은 중간 테스트가 없기 때문에 기능에 문제가 생겼을 시 어디서부터 점검해야할지 파악하기 어렵다. 즉, big step & big back 으로 진행된다. 반대로 small step은 개발 도중에 문제가 생기면 테스트와 백업 덕문에 문제가 생기기 바로 전 단계로 돌아가 문제를 해결할 수 있다. 훨씬 안정적이고 빠른 피드백이 가능해진다.

### - Refactoring이란

- 새로운 기능이나 함수의 생성없이 지저분한 코드를 심플하게 만드는 시스템적 프로세스이다.
- 쉽게 말하면, 외부의 행동(기능)을 바꾸지 않고 내부의 구조를 개선하는 것.
- 예를 들면 리팩토링의 수단 중 하나로 <b>'중복을 제거하는 것'</b>이 있다.

### - Clean Code란

- 읽기 쉽고 이해가 잘되는 코드.
- 클린코드는 SW 개발을 예측가능하고 결과물의 퀄리티 향상시킨다.



## 2. How

### 외부의 동작을 바꾸지 말아야 하는 이유?

- 기능 추가시 단순히 기능만 만들어서 붙이는 것이 아니라 기존의 동작도 보장되어야 한다는 것.